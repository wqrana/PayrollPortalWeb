@using TimeAide.Common.Helpers;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - TimeAide</title>
    <link rel="shortcut icon" type="image/x-icon" href="/content/Themes/assets/img/favicon.png">

    @Styles.Render("~/content/css")

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")
    <link href="~/Content/toastr.css" rel="stylesheet" />
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/bootstrap-theme")
    <script src="~/Scripts/toastr.js"></script>
    @RenderSection("scripts", required: false)
</head>
<body>
    <!-- Main Wrapper -->
    <div class="main-wrapper">
        <!-- Header Menu -->
        @Html.Partial("_HeaderBar")
        <!-- Sidebar -->
        @if (Request.IsAuthenticated)
        {

            @Html.Partial("_SideBar")
        }
        <!-- Page Wrapper -->
        <div class="page-wrapper">
            <!-- Page Content -->
            <div class="content container-fluid">
                @RenderBody()

                <hr />
                <footer>
                    <p> @DateTime.Now.Year &copy; Identech, Inc. All rights reserved.</p>
                </footer>
            </div>
        </div>
    </div>
       
    @*<!-- Bootstrap Core JS -->
        <script src="/content/Themes/assets/js/popper.min.js"></script>
        <script src="/content/Themes/assets/js/bootstrap.min.js"></script>
        <!-- Custom JS -->
        <script src="/content/Themes/assets/js/app.js"></script>*@
    <script src="~/Scripts/appCommon-js.js"></script>
   
    <style type="text/css">
        .header {
         background:linear-gradient(to right, #00c5fb 0%, #09656ae0 100%);
        }
        .panel {
            margin-bottom: 10px !important;
            background-color: #ffffff !important;
            border: 1px solid transparent !important;
            border-color: #ddd !important;
            border-radius: 4px !important;
            -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05) !important;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05) !important;
        }

        .panel-heading {
            color: #31708f;
            background-color: #d9edf7;
            border-color: #bce8f1;
        }
    </style>

    <script type="text/javascript">
        var idleTime = 0;
        $(document).ready(function () {
            //Increment the idle time counter every minute.
            var idleInterval = setInterval(timerIncrement, 60000); // 1 minute

            //Zero the idle timer on mouse movement.
            $(this).mousemove(function (e) {
                idleTime = 0;
            });
            $(this).keypress(function (e) {
                idleTime = 0;
            });
        });

        function timerIncrement() {
            idleTime = idleTime + 1;
            if (idleTime > 15) { // 15 minutes
                //window.location.reload();
                window.location.href = '@Url.Action("Login", "Account")';
            }
        }
    </script>
    
</body>
</html>
